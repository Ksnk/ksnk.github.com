<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Расчет манипулятора</title>
    <link href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
<svg fill="currentColor" style="display: none" xmlns="http://www.w3.org/2000/svg">
    <symbol id="icon-rollup" viewBox="0 0 16 16">
        <g fill="#fff" transform="translate(-384.000000, -144.000000)">
            <path d="M391.5,157 C389.014719,157 387,154.985281 387,152.5 C387,152.331018 387.009314,152.164211 387.027464,152 L385.018945,152 C385.00639,152.165053 385,152.33178 385,152.5 C385,156.089851 387.910149,159 391.5,159 C395.089851,159 398,156.089851 398,152.5 C398,149.078368 395.356198,146.27423 392,146.018945 L392,148.027464 C394.249941,148.27615 396,150.183701 396,152.5 C396,154.985281 393.985281,157 391.5,157 L391.5,157 Z M388,147 L392,150 L392,144 L388,147 L388,147 Z M388,147"
            />
        </g>
    </symbol>
    <symbol id="icon-calc" viewBox="0 0 16 16">
        <g transform="translate(-192.000000, -336.000000)" fill="#000000">
            <path d="M195,337 L195,340 L205,340 L205,337 Z M195.002473,336 L204.997527,336 C205.544239,336 206,336.448106 206,337.000872 L206,350.999128 C206,351.555369 205.551177,352 204.997527,352 L195.002473,352 C194.455761,352 194,351.551894 194,350.999128 L194,337.000872 C194,336.444631 194.448823,336 195.002473,336 Z M196,342 L196,344 L198,344 L198,342 Z M199,342 L199,344 L201,344 L201,342 Z M202,342 L202,344 L204,344 L204,342 Z M196,345 L196,347 L198,347 L198,345 Z M199,345 L199,347 L201,347 L201,345 Z M202,345 L202,347 L204,347 L204,345 Z M196,348 L196,350 L198,350 L198,348 Z M199,348 L199,350 L201,350 L201,348 Z M202,348 L202,350 L204,350 L204,348 Z M202,348"
            />
        </g>
    </symbol>
    <symbol id="icon-pinit" viewBox="0 0 16 16">
        <g fill="#000000" transform="translate(-192.000000, -192.000000)">
            <path d="M201,205.917042 C203.512502,205.49553 205.495527,203.512505 205.917042,201 L203,201 L203,199 L205.917042,199 C205.495527,196.487495 203.512502,194.50447 201,194.082958 L201,197 L199,197 L199,194.082958 C196.487498,194.50447 194.504473,196.487495 194.082958,199 L197,199 L197,201 L194.082958,201 C194.504473,203.512505 196.487498,205.49553 199,205.917042 L199,203 L201,203 Z M200,208 C195.581722,208 192,204.418278 192,200 C192,195.581722 195.581722,192 200,192 C204.418278,192 208,195.581722 208,200 C208,204.418278 204.418278,208 200,208 Z M200,208"
            />
        </g>
    </symbol>
    <symbol id="icon-copy" viewBox="0 0 16 16">
        <g transform="translate(-816.000000, -576.000000)" fill="#000000">
            <path d="M818.99703,578 C818.446386,578 818,578.453036 818,578.99703 L818,585.00297 C818,585.553614 818.453036,586 818.99703,586 L819,586 L819,588 L818.997152,588 C817.341623,588 816,586.658129 816,585.002848 L816,578.997152 C816,577.341623 817.341871,576 818.997152,576 L825.002848,576 C826.657561,576 827.998677,577.340548 828,578.994705 C827.68038,578.99489 827.3453,579 827,579 L826,579 L826,578.99703 C826,578.446386 825.546964,578 825.00297,578 Z M822.997152,580 L829.002848,580 C830.658377,580 832,581.341871 832,582.997152 L832,589.002848 C832,590.658377 830.658129,592 829.002848,592 L822.997152,592 C821.341623,592 820,590.658129 820,589.002848 L820,582.997152 C820,581.341623 821.341871,580 822.997152,580 Z M822.99703,582 C822.446386,582 822,582.453036 822,582.99703 L822,589.00297 C822,589.553614 822.453036,590 822.99703,590 L829.00297,590 C829.553614,590 830,589.546964 830,589.00297 L830,582.99703 C830,582.446386 829.546964,582 829.00297,582 Z M822.99703,582"
            />
        </g>
    </symbol>
    <symbol id="icon-paste" viewBox="0 0 16 16">
        <g transform="translate(-96.000000, -48.000000)" fill="#000000">
            <path d="M98,49 L106,49 L106,54 L110,54 L110,64 L106,64 L98,64 L98,49 L98,49 Z M107.015625,49.0120239 L110.058838,53.0283203 L107.015625,53.0283203 L107.015625,49.0120239 L107.015625,49.0120239 Z M99,56 L99,57 L109,57 L109,56 L99,56 Z M99,54 L99,55 L105,55 L105,54 L99,54 Z M99,52 L99,53 L105,53 L105,52 L99,52 Z M99,50 L99,51 L105,51 L105,50 L99,50 Z M99,62 L99,63 L109,63 L109,62 L99,62 Z M99,60 L99,61 L109,61 L109,60 L99,60 Z M99,58 L99,59 L109,59 L109,58 L99,58 Z M99,58"
            />
        </g>
    </symbol>
    <symbol id="icon-cross" viewBox="0 0 18 18">
        <g stroke-width="3" stroke="black">
            <path d='M2,2 L16,16 M2,16 L16,2'></path>
        </g>
    </symbol>
    <symbol id="icon-pencil" viewBox="0 0 18 18">
        <path d='M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z'></path>
    </symbol>
    <symbol id="icon-move" viewBox="0 0 18 18">
        <g fill="#000000">
            <path d="M1,9 L2.5,10.5 L6,7 L9,10 L5.5,13.5 L7,15 L1,15 Z M15,7 L13.5,5.5 L10,9 L7,6 L10.5,2.5 L9,1 L15,1 Z"/>
        </g>
    </symbol>
</svg>

<div id="mapwrapper" style="z-index:100;">
    <table style="table-layout:fixed;width:100%;">
        <col/>
        <col width="50"/>
        <col width="300"/>
        <tr>
            <td colspan="2" style="text-align: center;">
                <div id="map">
                    <canvas height="660" id="canvas" width="660"></canvas>
                    <span class="pressHold left0"
                          data-handle="rotate,pointA,1"><svg class="svgicon "><use
                            xlink:href="#icon-rollup"/></svg></span>
                    <span class="pressHold left1"
                          data-handle="rotate,pointA,-1"><svg class="svgicon mirrorY"><use
                            xlink:href="#icon-rollup"/></svg></span>
                    <span class="pressHold right1"
                          data-handle="rotate,pointB,1"><svg class="svgicon "><use
                            xlink:href="#icon-rollup"/></svg></span>
                    <span class="pressHold right0"
                          data-handle="rotate,pointB,-1"><svg class="svgicon mirrorY"><use
                            xlink:href="#icon-rollup"/></svg></span>
                </div>
            </td>
            <td valign="top">
                <div class="tab">
                    <button class="tablinks active" data-handle="tab,0">Настройки</button>
                    <button class="tablinks" data-handle="tab,1">Программа</button>
                </div>
                <div class="tabcontent active">
                    <fieldset>
                        <legend>Текущее состояние</legend>
                        <label class="text"> ось А: <input data-handle="submitdraw,grad" name="pointA.2"> </label><br>
                        <label class="text"> ось Б: <input data-handle="submitdraw,grad" name="pointB.2"> </label><br>
                        <label class="text">X: <input data-handle="submitdraw" disabled="disabled" name="finC.0">
                        </label><br>
                        <label class="text">Y: <input data-handle="submitdraw" disabled="disabled" name="finC.1">
                        </label><br>
                        <button data-handle="letsfly">W</button>
                    </fieldset>
                    <fieldset>
                        <legend>Слои карты</legend>
                        <label><input data-handle="submitdraw" name="mapcolor[]" type="checkbox" value="1"> 00</label>&nbsp;
                        <label><input data-handle="submitdraw" name="mapcolor[]" type="checkbox" value="2"> 01</label>&nbsp;
                        <label><input data-handle="submitdraw" name="mapcolor[]" type="checkbox" value="4"> 10</label>&nbsp;
                        <label><input data-handle="submitdraw" name="mapcolor[]" type="checkbox" value="8"> 11</label>
                        <label><input data-handle="submitdraw" name="mapauto" type="checkbox" value="1">auto</label>
                    </fieldset>
                    <br>Расчет маршрута
                    <span data-handle='["copyjson","#forclipboard",["startA","fin_A","Obstacles", "finXY"]]'>
                        <svg class="svgicon">
                            <use xlink:href="#icon-copy"/>
                        </svg>
                    </span>
                    <div class="forpaste">
                    <span>
                        <svg class="svgicon">
                            <use xlink:href="#icon-paste"/>
                        </svg>
                    </span>
                        <input type="text"
                               data-handle='["pastejson","#forclipboard",["startA","fin_A", "Obstacles","finXY"]]'
                               id="forclipboard">
                    </div>
                    <br>
                    <fieldset>
                        <legend>Начало</legend>
                        <label class="text"> ось А: <input data-handle="submitdraw,grad" name="startA.0"> </label>
                        <span data-handle="pin, angle, startA">
                            <svg class="svgicon">
                                <use xlink:href="#icon-pinit"/>
                            </svg>
                        </span><br>
                        <label class="text"> ось Б: <input data-handle="submitdraw,grad" name="startA.1"> </label>
                    </fieldset>
                    <fieldset>
                        <legend>Финиш</legend>
                        <label class="text">ось А: <input data-handle="submitdraw,grad" name="fin_A.0"> </label>
                        <span title="Установить с экрана"
                              data-handle='[["pin", "angle", "fin_A"],["pin", "cooord", "finXY"]]'>
                            <svg class="svgicon">
                                <use xlink:href="#icon-pinit"/>
                            </svg>
                        </span><br>
                        <label class="text">ось Б: <input data-handle="submitdraw,grad" name="fin_A.1"> </label>
                        <label class="text">x: <input data-handle="submitdraw" name="finXY.0"> </label> <br>
                        <label class="text">y: <input data-handle="submitdraw" name="finXY.1"> </label>
                        <span title="Расчитать маршрут" data-handle="calc, coord, finXY">
                            <svg class="svgicon">
                                <use xlink:href="#icon-calc"/>
                            </svg>
                        </span>
                    </fieldset>
                    <fieldset>
                        <legend>Препятствия</legend>
                        <button class="painting" title="Рисовать" data-handle="paint">
                            <svg class="svgicon">
                                <use xlink:href="#icon-pencil"/>
                            </svg>
                        </button>&nbsp;
                        <button class="painting" title="Убрать" data-handle="clearpaint">
                            <svg class="svgicon">
                                <use xlink:href="#icon-cross"/>
                            </svg>
                        </button>&nbsp;
                        <button class="painting" title="Двигать" data-handle="moving">
                            <svg class="svgicon">
                                <use xlink:href="#icon-move"/>
                            </svg>
                        </button>&nbsp;
                    </fieldset>
                </div>
                <div class="tabcontent ">
                    <table id="programm">
                        <tr>
                            <th><span data-handle='["copyjson","#fc2",["trace"]]'><svg class="svgicon"><use
                                    xlink:href="#icon-copy"/></svg></span>
                                <div class="forpaste">
                    <span><svg class="svgicon"><use
                            xlink:href="#icon-paste"/></svg></span>
                                    <input type="text" data-handle='["pastejson","#fc2",["trace"]]' id="fc2">
                                </div>
                            </th>
                            <th></th>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>

                </div>
            </td>
        </tr>
    </table>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js" type="text/javascript"></script>
<script src="draw.js" type="text/javascript"></script>
<script src="handle.js" type="text/javascript"></script>

</body>
</html>